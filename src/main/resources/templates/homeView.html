<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      layout:decorator="layout">
<head>
    <title>Bet24 - home</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
        table {
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>

<section layout:fragment="content">

    <span sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" method="post">
            <input type="submit" value="Log out"/>
        </form>
    </span>

    <h1>Welcome on Bet24</h1>

    <h2>List of events:</h2>

    <table>
        <th>
        <td>Team A</td>
        <td>Team B</td>
        </th>
        <tr th:each="event : ${events}">
            <td th:text="${event.id}"/>
            <td th:text="${event.teamA}"/>
            <td th:text="${event.teamB}"/>


        </tr>

    </table>

    <h2>List of offers:</h2>

    <table>
        <th>
        <td>Type</td>
        <td>Odds</td>
        </th>
        <tr th:each="betOffer : ${betOffers}">
            <td th:text="${betOffer.id}"/>
            <td th:text="${betOffer.betOfferType.name}"/>
            <td th:text="${betOffer.odds}"/>
            <td><a th:href="@{'/bet/add/'+${betOffer.id}}">add to cart</a></td>
        </tr>

    </table>

    <h2>Your cart:</h2>

    <table>
        <th>
        <td>Game</td>
        <td>Bet type</td>
        <td>Odds</td>
        <td>Stake</td>
        </th>
        <tr th:each="bet,iter : ${session.cartOfBets}">
            <td th:text="${iter.count}"/>
            <td th:text="|${bet.event.teamA} (${bet.event.scoreA}) : ${bet.event.teamB} (${bet.event.scoreB})|"/>
            <td th:text="${bet.betOffer.betOfferType.name}"/>
            <td th:text="${bet.betOffer.odds}"/>
            <td th:text="${bet.stake}"/>
        </tr>

    </table>

    <!--<form th:action="@{/bet/add/{betOffer_id}(betOffer_id=${betOffer.id})}" th:object="${bet}" method="post">-->

        <!--<p><input th:field="*{stake}" placeholder="stake">stake</p>-->
        <!--<p th:if="${#fields.hasErrors('stake')}" th:errors="*{stake}">Incorrect stake</p>-->

        <!--<p><input type="submit" value="submit"></p>-->

    <!--</form>-->


    <!--<form th:action="@{/betOffer/add}" th:object="${betOffer}" method="post">-->

        <!--<p><input th:field="*{stake}" placeholder="stake">stake</p>-->
        <!--<p th:if="${#fields.hasErrors('stake')}" th:errors="*{stake}">Incorrect stake</p>-->

        <!--<p><input type="submit" value="submit"></p>-->

    <!--</form>-->



    <!--<table>-->
        <!--<th>-->
        <!--<td>Id</td>-->
        <!--<td>Match</td>-->
        <!--<td>Date</td>-->
        <!--<td>Odds</td>-->
        <!--<td>ProjectId</td>-->
        <!--<td>Users</td>-->
        <!--<td>Active status</td>-->
        <!--<td>Tasks</td>-->
        <!--<td>Edit</td>-->
        <!--<td>Delete</td>-->
        <!--</th>-->
        <!--<tr th:each="betOffer : ${betOffers}">-->
            <!--<td th:text="${betOffer.id}"/>-->
            <!--<td th:text="|${betOffer.event.teamA} vs ${betOffer.event.teamB}|"/>-->
            <!--<td th:text="${betOffer.event.start}"/>-->
            <!--<td th:text="${betOffer.odds}"/>-->
            <!--<td th:text="${betOffer.odds}"/>-->



            <!--<td>-->
                <!--<ul>-->
                    <!--<li th:each="user : ${project.users}">-->
                        <!--<p th:text="|User no: ${user.id}; Lastname: ${user.lastName}|"></p>-->
                        <!--<a th:href="@{'/task/edit/'+${user.id}}">edit user</a>-->
                    <!--</li>-->
                <!--</ul>-->
            <!--</td>-->
            <!--<td th:text="${project.activeStatus}"/>-->
            <!--<td>-->
                <!--<ul>-->
                    <!--<li th:each="task : ${project.tasks}">-->
                        <!--<p th:text="|Task no: ${task.id}; Topic: ${task.topic}|"></p>-->
                        <!--<a th:href="@{'/task/edit/'+${task.id}}">edit task</a>-->
                    <!--</li>-->
                <!--</ul>-->
            <!--</td>-->
            <!--<td><a th:href="@{'/project/edit/'+${project.id}}">edit project</a></td>-->
            <!--<td><a th:href="@{'/project/delete/'+${project.id}}">delete project</a></td>-->


        <!--</tr>-->

    <!--</table>-->

    <h2>List of your bets:</h2>

</section>
</body>
</html>